---
layout: page
title:  Summary
date: 2016-03-17 12:50:03 UTC
categories: index
---

   Otus Lisp (или ol, произносится как [`отэс лисп], [ол]) - чисто функциональный (на самом деле - *не совсем*, но об этом - позже) диалект языка Lisp.
Ol реализован как расширенное подмножество Scheme [R<sup>5</sup>RS](http://www.schemers.org/Documents/Standards/R5RS/), включая, но не ограничиваясь, некоторыми из [SRFI](http://srfi.schemers.org/). Распространяется по лицензии [GPL v3](https://github.com/yuriy-chumak/OL/blob/master/COPYING).

   Вот неполный список того, что может предоставить ol:

  * встраиваемость,
  * маленькая и быстрая виртуальной машина (всего 42 КБ в бинарном виде<sup>[*](#42kb)</sup>)
  * высокоэффективный сборщик мусора (благодаря чистой функциональности языка)
  * мультиплатформенность (Linux, Windows, [webOS, Android, MacOS, *BSD, etc. - в реальных ближайших планах])
  * возможность компилировать lisp-скрипты в бинарный формат, а так же выполнять их
  * динамическое связывание с функциями из "родных" системных библиотек (в разделе [tutorial](?ru/tutorial) есть примеры программирования с помощью OpenGL под Linux и Windows без использования других языков программирования, таких как C)
  * возможность работать в песочнице <sup>[*](#sandbox)</sup>
  * интересные и полезные особенности из мира функционального программирования: 
    * продолжения
    * хвостовая рекурсия
    * [сопрограммы](?ru/subprograms)
  * [сеттеры (мутаторы)](?ru/mutators)
  * и, что главное, это настоящий [Lisp](https://ru.wikipedia.org/wiki/%D0%9B%D0%B8%D1%81%D0%BF)!

   Вы можете сразу попробовать ol в деле в терминале на этой же страничке, если, конечно, терминал успешно подсоединился к серверу (поддержка удаленных клиентов находится в экспериментальной стадии, возможны кратковременные сбои в работе).

   Например, попробуйте ввести
<pre><code id="fold1" data-language="scheme">(fold * 1 (iota 99 1 1))</code><button class="doit" onclick="doit(fold1.textContent)">отправить в терминал.</button></pre>

   В результате вы должны получить красивое длинное число - результат вычисления факториала 99 (933262154439441526816992388562667004907159682643816214685929638952175999932299156089414639761565182862536979208272237582511852109168640000000000000000000000).

### [Обучалка](?ru/tutorial)

   По [ссылке](?ru/tutorial) можно почитать детальнее про проект, как программировать под ol, детали внутренней реализации. В общем все, что касается непосредственно языка и виртуальной машины (документация в процессе наполнения).

### Новости проекта

  * Thr 17 Mar 2016 14:41 EET
    * добавил в список поддерживаемых операционных систем NetBSD (тестил на NetBSD 7.0).

  * Tue 15 Mar 2016 18:54 EET
    * добавил в список поддерживаемых операционных систем FreeBSD (тестил на FreeBSD 10.2). 

  * Mon 14 Mar 2016 19:51 EET
    * продолжаю работу по унификации виртуальной машины. арифметические операции теперь соответствуют [описанию](?ru/internals/numbers) (которое как раз и дописываю).

  * Sun 13 Mar 2016 16:30 EET
    * привел функцию iota в соответствие с [srfi-1](http://srfi.schemers.org/srfi-1/srfi-1.html), старая функция теперь называется lrange и в скором времени будет объявлена как deprecated.
    * добавил в язык константу #eof, раньше она существовала неявно и работала через функцию eof-object?, теперь можно сравнивать как обычно - (eq? object #eof).
    * наконец-то нашел правильное название для библиотеки базовой реализации r5rs стандарта - (r5rs core).

  * Wed 12 Mar 2016 23:48 EET
    * очень важный апдейт - реализовал функцию (set! object n value), которая меняет n-й элемент объекта object на value. обязательное      условие, value должно быть value типа (кроме чисел подходят константы #t, #f и т.д.) 
    * port теперь снова value-type, временная завязка на port, как handle для pinvoke больше не нужна, так как появился свой внутренний тип. ol будет чуть быстрее обрабатывать файлы.
    * поправил билд под linux, не собиралась функция getrusage.

  * Wed 12 Mar 2016 18:31 EET
    * cast теперь умеет создавать порт из чисел 0, 1 и 2 (stdin, stdout и stderr, соответственно).
    * отключил в ol неработающие внутренние команды goto-code, goto-proc и goto-clos (и из olvm тоже). никакого влияния на ol это не оказывает.
    * теперь fx:< называется less? и может сравнивать не только value числа. вместе с eq? образует логичную и законченную пару компараторов.
    * удалил устаревшие sizeb и refb. добавил новую команду виртуальной машины (raw?), которая соответствует названию.
    * size теперь работает двояко - для raw объектов возвращает их размер в байтах, для простых объектов - в элементах. Так будет логичнее всего (так как байты - элементы для raw объектов). Аналогично с функцией ref.

  * Wed 02 Mar 2016 16:10 EET
    * теперь функция sizeb отмечена как устаревшая (deprecated) и будет удалена в ближайшее время.
    * поправил эффект "цифрового дождя" в туториалах, теперь работает правильно.
    
  * Fri 27 Feb 2016 16:27 EET
    * добавил заготовку странички [описания команд](?ru/internals/olvm) вируальной машины ol

  * Fri 27 Feb 2016 13:03 EET
    * теперь под Windows дефолтная папка для библиотек OL_HOME (или C:\Program Files\OL по умолчанию, будет меняться когда сделаю инсталлятор)
    * uname теперь официальная функция в составе (owl sys), заканчиваю ее полноценную реализацию для Windows (в смысле названия ОС и ее варианта)
    * вернул работу vm.exe под Windows, не работала
    * запилил в туториалах эффект "цифровой дождь" с целью потестировать мутаторы (сеттеры). по результатам буду вводить операторы в основной язык.  

  * Tue 23 Feb 2016 00:43 EET
    * дописал часть OpenGL туториала
    * добавил пример ai, который ищет путь в лабиринте не зная всей карты (строит карту "в уме" на основании тех частей, которые видит и "забывая" те ее части, которые видел достаточно давно)
  * [Архив](https://github.com/yuriy-chumak/OL/commits/master)

### Мои заметки
   * [О бинарных пакетах в NetBSD](?blog/2016.03.17-13.06)
   
   
   
### *

  * <a name="42kb"></a>42КБ для Linux 64bit. Для других операционных систем а так же с другими параметрами сборки размер может отличаться как в большую, так и в меньшую сторону.
  * <a name="sandbox"></a>Режим песочницы поддерживается только для ОС, в которых реализован [SECCOMP](https://en.wikipedia.org/wiki/Seccomp).